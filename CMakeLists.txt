cmake_minimum_required(VERSION 3.15)
project(Boniface)
SET(CMAKE_CXX_FLAGS  "-lfcgi ")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -pthread -lpqxx -lpq")
find_library(PQXX_LIB pqxx)
find_library(PQ_LIB pq)
set(CMAKE_CXX_STANDARD 20)
#add_definitions(${CMAKE_CXX_FLAGS})
add_executable(Boniface examples/main.cpp app/App.h app/App.cpp context/request/Request.cpp context/request/Request.h context/response/Response.cpp context/response/Response.h context/Context.cpp context/Context.h middleware/MiddlewareManager.cpp middleware/MiddlewareManager.h context/utils.hpp routing/Router.h routing/Router.cpp examples/user.h)
#target_link_libraries(Boniface ${FASTCGI})
target_link_libraries(${PROJECT_NAME} fcgi)
TARGET_LINK_LIBRARIES(${PROJECT_NAME}   ${PQXX_LIB} ${PQ_LIB})